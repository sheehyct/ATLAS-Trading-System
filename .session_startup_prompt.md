# Session Startup Prompt - EQUITY-84

**Previous Session:** EQUITY-83 (January 23, 2026)
**Current Branch:** `main`
**VPS Status:** Running - deployed 06ab6f8, 3-? target fix active
**Plan Mode:** ON (Phase 4 refactoring planning)

---

## EQUITY-83 Accomplishments

1. **Completed Phase 3 Test Coverage** - All 13 remaining modules now tested
2. **Created 222 new tests this session:**
   - Utils modules: fix_manifest, version_tracker, position_sizing, portfolio_heat, data_fetch (149 tests)
   - API servers: crypto + equity Flask APIs (55 tests)
   - Integrations: alphavantage_fundamentals (18 tests)
3. **Committed Claude Desktop crypto modules:**
   - crypto/trading/beta.py (517 lines) - Beta calculations, capital efficiency
   - crypto/trading/fees.py (357 lines) - Coinbase CFM fee model
4. **Test suite growth:** 3,280 -> 3,502 tests (+222)
5. **Phase 3 COMPLETE:** 2,432 total new tests (EQUITY-68 through EQUITY-83)

---

## EQUITY-84 Priorities

### Priority 1: Phase 4 Planning - God Class Refactoring

Enter plan mode to design refactoring approach for:
- SignalDaemon (2,042 lines, 43 methods)
- PositionMonitor (1,572 lines, 30 methods)
- CryptoSignalDaemon (1,501 lines, 33 methods)

Consider:
- Extract Coordinator pattern (ScanCoordinator, AlertManager, ExecutionCoordinator)
- Extract domain logic (ExitConditionEvaluator, TrailingStopManager)
- Use code-simplifier plugin for accuracy validation

### Priority 2: Investigate trade_audit.py Bug

Discord alerts reporting zero trades despite actual trades occurring.
Flagged in EQUITY-82, still pending investigation.

### Priority 3: Establish Plugin Workflow

Define standard workflow for using:
- code-simplifier plugin for refactoring validation
- code-reviewer plugin for PR reviews
- Other available plugins for quality assurance

---

## Reference Documents

- HANDOFF: `docs/HANDOFF.md`
- CLAUDE.md: `docs/CLAUDE.md` (STRICT COMPLIANCE)
- Technical Debt Plan: `C:\Users\sheeh\.claude\plans\sharded-foraging-puppy.md`
- EQUITY-82 Plan: `C:\Users\sheeh\.claude\plans\flickering-riding-noodle.md`
