# ATLAS Codebase Audit Track

**Branch:** `feature/codebase-audit`
**Scope:** Read-only analysis, documentation creation only
**DO NOT:** Modify any code files - this track produces reports only

---

## Session Protocol

1. **Read First:**
   - `docs/SYSTEM_ARCHITECTURE/*.md` (all 9 architecture files)
   - `docs/CLAUDE.md` (development rules)
   - `docs/HANDOFF.md` (current system state)

2. **Compare Against Implementation:**
   - `strategies/` - Strategy implementations
   - `regime/` - Layer 1 regime detection
   - `strat/` - Layer 2 STRAT patterns
   - `integrations/` - External API clients
   - `dashboard/` - Visualization code

3. **Generate Reports Under:** `docs/audit/`

---

## Deliverables

```
docs/audit/
  MASTER_INDEX.md           # Central navigation + executive summary
  A_ARCHITECTURE.md         # Code vs architecture alignment
  B_CODE_QUALITY.md         # Standards, patterns, maintainability
  C_TEST_COVERAGE.md        # Gap analysis, coverage metrics
  D_SECURITY.md             # Credentials, API key handling
  E_PERFORMANCE.md          # Bottlenecks, optimization opportunities
  F_DOCUMENTATION.md        # Accuracy vs implementation
  G_TECHNICAL_DEBT.md       # Dead code, TODOs, refactoring needs
  H_DASHBOARD.md            # UI functionality review
  I_ERROR_HANDLING.md       # Resilience patterns
  J_INTEGRATIONS.md         # Alpaca, Tiingo, ThetaData reliability
```

---

## Severity Definitions

| Level | Definition | Example |
|-------|------------|---------|
| **CRITICAL** | Production at risk, data loss, security breach | Credentials exposed |
| **HIGH** | Feature broken, major bug | Test failures blocking deployment |
| **MEDIUM** | Deviation from spec, works incorrectly | Missing validation |
| **LOW** | Style/documentation mismatch | Outdated comments |

---

## Finding Template

```markdown
### Finding [X]-001: [Title]

**Severity**: CRITICAL | HIGH | MEDIUM | LOW
**Location**: `path/to/file.py:line_number`

#### Description
[What is wrong]

#### Evidence
\`\`\`python
[Code snippet]
\`\`\`

#### Recommendation
[How to fix]

#### Effort
- Complexity: LOW | MEDIUM | HIGH
- Time: X hours
```

---

## Architecture Documents to Review

| Document | Path |
|----------|------|
| Strategy Overview | `docs/SYSTEM_ARCHITECTURE/1_ATLAS_OVERVIEW_AND_PROPOSED_STRATEGIES.md` |
| Directory Structure | `docs/SYSTEM_ARCHITECTURE/2_DIRECTORY_STRUCTURE_AND_STRATEGY_IMPLEMENTATION.md` |
| Risk Management | `docs/SYSTEM_ARCHITECTURE/3_CORE_COMPONENTS_RISK_MANAGEMENT_AND_BACKTESTING_REQUIREMENTS.md` |
| Validation | `docs/SYSTEM_ARCHITECTURE/4_WALK_FORWARD_VALIDATION_PERFORMANCE_TARGETS_AND_DEPLOYMENT.md` |
| Execution | `docs/SYSTEM_ARCHITECTURE/5_EXECUTION_ARCHITECTURE.md` |
| STRAT Layer | `docs/SYSTEM_ARCHITECTURE/STRAT_LAYER_SPECIFICATION.md` |
| Integration | `docs/SYSTEM_ARCHITECTURE/INTEGRATION_ARCHITECTURE.md` |
| Capital Guide | `docs/SYSTEM_ARCHITECTURE/CAPITAL_DEPLOYMENT_GUIDE.md` |

---

## Session Handoff

After each session, create:
`docs/session_handoffs/TRACK_AUDIT_SESSION_{n}.md`

Include: what was audited, findings count, next priorities.

---

## LOCKED FILES (DO NOT MODIFY)

- `strategies/base_strategy.py`
- `utils/position_sizing.py`
- `utils/portfolio_heat.py`
- `regime/academic_jump_model.py`
