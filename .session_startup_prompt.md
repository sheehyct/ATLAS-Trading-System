# ATLAS Development - Session Startup

**Current Session:** EQUITY-30
**Last Session:** EQUITY-29 (December 20, 2025)
**Focus:** Continue Trade Audit (6 remaining trades)

---

## Session EQUITY-29 Accomplishments

### Critical Bug Fixed (Commit 210d248)

**Problem:** SETUP signals were executed IMMEDIATELY without waiting for trigger break.
This caused trades to enter in wrong direction (e.g., PUT when CALL should have fired).

**Fix Applied:**
1. Skip SETUP signals in `_execute_signals()` - they wait for entry_monitor trigger
2. Reduced poll_interval from 60s to 15s for faster "on the break" detection

**Code Location:** `strat/signal_automation/daemon.py` lines 827-835

### Trade 7 Audit Completed: ACHR 3-2U-2D PUT (1H)

- Actual bar sequence: 2U → 1 → 2D → 1 → 3 → 2U
- 15:30 bar broke ABOVE 8.17 at 15:34 (CALL trigger should have fired)
- But PUT was executed due to bug (now fixed)

---

## Session EQUITY-30 Priorities

| Priority | Task |
|----------|------|
| **1. Invoke strat-methodology skill** | Mandatory for any STRAT work |
| **2. Continue Trade Audit** | 6 remaining trades from Dec 18-19 |
| **3. Deploy Fix to VPS** | Push changes and restart daemon |
| **4. Update STRAT Skill** | Add clarified terminology |

---

## Remaining Trade Audits

| Trade | Claimed Pattern | Status |
|-------|-----------------|--------|
| 1 | QQQ 3-2D-2U CALL (1W) | PENDING |
| 2 | AAPL 3-2D-2U CALL (1D) | PENDING |
| 3 | AAPL 3-2D PUT (1W) | PENDING |
| 4 | ACHR 3-2U CALL (1H) | PENDING |
| 5 | QBTS 3-2U CALL (1H) | PENDING |
| 6 | GOOGL 3-2U CALL (1H) | PENDING |

---

## Terminology Reference (from EQUITY-28)

**3-2 Pattern (3-2D or 3-2U):**
- Entry: ON THE BREAK when forming bar breaks 3 bar's HIGH (CALL/2U) or LOW (PUT/2D)
- Stop: 3 bar's opposite extreme
- Target: 1.5x measured move

**3-2-2 Pattern (Reversal Only):**
- 3-2D-2U: Entry CALL when forming bar breaks ABOVE 2D bar's HIGH
- 3-2U-2D: Entry PUT when forming bar breaks BELOW 2U bar's LOW
- NOT traded: 3-2D-2D, 3-2U-2U (continuations)

**Hourly Bar Alignment:**
- Market opens 09:30 EST
- Hourly bars: 09:30, 10:30, 11:30, 12:30, 13:30, 14:30, 15:30
- 15:30 bar is only 30 minutes (closes at 16:00)

---

## Key Files Reference

| File | Purpose |
|------|---------|
| `docs/TRADE_AUDIT_DEC_18_19.md` | Trade audit data (needs bar time correction) |
| `strat/signal_automation/daemon.py` | Fixed: SETUP signal skip + poll_interval |
| `~/.claude/skills/strat-methodology/` | STRAT skill (needs terminology update) |

---

## CRITICAL: Before Writing STRAT Code

1. **Invoke strat-methodology skill** for any STRAT pattern work
2. **Query OpenMemory** for "EQUITY-29 SETUP signal bug" context
3. **If discrepancy found** - STOP and ask user for clarification

---

## Session Numbering

- **EQUITY-XX** - Equities STRAT options work
- **CRYPTO-XX** - Crypto derivatives work
