# ATLAS Development - Session Startup

**Current Session:** EQUITY-24
**Last Session:** EQUITY-23 (December 18, 2025)
**Focus:** Monitor Crypto Daemon with Disabled R:R Filter

---

## Session EQUITY-23 Accomplishments

### Investigation: Missing BIP/ETP Patterns

User observed STRAT patterns at 1400, 1500, 1600 hourly bars that didn't trigger alerts or trades.

### Root Causes Found and Fixed

**1. R:R Filter Blocking Valid Patterns**
- BIP 2D-2U LONG: R:R = 0.92 (required 1.0) - FILTERED
- ETP 2D-1-2U LONG: R:R = 0.43 (required 1.0) - FILTERED
- **Fix:** Set `MIN_SIGNAL_RISK_REWARD = 0.0` temporarily for testing

**2. Direction Logging Mismatch**
- Entry monitor detected direction change (SHORT) but daemon logged original (LONG)
- **Fix:** Use `event._actual_direction` in daemon and Discord alerter

### Pattern Analysis (1400-1600 EST)

| Symbol | 1400 | 1500 | 1600 | Pattern |
|--------|------|------|------|---------|
| BIP | 2D | 2D | 2U | 2D-2D-2U (reversal LONG) |
| ETP | 2D | 1 | 2U | 2D-1-2U (reversal LONG) |

### Commits

- `d47a428` - fix(crypto): disable R:R filter and fix direction logging (EQUITY-23)

---

## Session EQUITY-24 Priorities

| Priority | Task |
|----------|------|
| Monitor | Watch crypto daemon logs for new pattern detections |
| Verify | Confirm patterns are now triggering trades (no R:R filter) |
| Analyze | Review trade results to determine appropriate R:R threshold |
| Optional | Any user-requested work |

---

## CONFIRMED STRAT Pattern Rules (Reference)

| Category | Pattern | Direction | Entry | Target |
|----------|---------|-----------|-------|--------|
| **X-1-?** | Bidirectional | Both | 1 bar HIGH/LOW | Based on pattern |
| **3-2D-?** | CALL only | Reversal up | 2D bar HIGH | 3 bar HIGH |
| **3-2U-?** | PUT only | Reversal down | 2U bar LOW | 3 bar LOW |
| **(X)-2D-?** | CALL only | Reversal up | 2D bar HIGH | X bar HIGH |
| **(X)-2U-?** | PUT only | Reversal down | 2U bar LOW | X bar LOW |
| **2U-2U, 2D-2D** | NO entry | Continuation | - | Position mgmt |

---

## Key Files Reference

| File | Purpose |
|------|---------|
| `crypto/config.py` | R:R filter setting (line 271) - currently 0.0 |
| `crypto/scanning/daemon.py` | Direction logging fix (line 317) |
| `crypto/alerters/discord_alerter.py` | Discord direction fix (line 314) |

---

## Reference

- OpenMemory: Query "EQUITY-23 R:R filter investigation"
- HANDOFF.md: Full session history
- strat-methodology skill: Pattern rules

---

## Session Numbering

- **EQUITY-XX** - Equities STRAT options work
- **CRYPTO-XX** - Crypto derivatives work
