# Session Startup Prompt - EQUITY-110

**Previous Session:** EQUITY-109 (February 15, 2026)
**Current Branch:** `main`
**VPS Status:** DEPLOY PENDING - Finviz enrichment + safety guard pushed, needs manual SSH deploy
**Plan Mode:** OFF (deploy and monitoring priorities)

---

## EQUITY-109 Accomplishments

1. **Finviz enrichment integrated into ticker selection pipeline** - sector, earnings, analyst consensus, target price, news headlines added to candidates.json and Discord summary. File-based cache (6h TTL), 3-layer error handling, 27 tests.
2. **Synthetic candidate generator** - `scripts/generate_synthetic_candidates.py` with 20-stock pool, `--preview`/`--live-enrich`/`--tickers` flags for offline daemon testing.
3. **Daemon safety guard** - `_load_candidates()` rejects synthetic data (`"synthetic": true`), preventing test data from driving live trades.
4. **Code simplification** - Import ordering, Optional[Dict] types, descriptive variable names.

---

## EQUITY-110 Priorities

### Priority 1: VPS Deploy (Manual)
- SSH to VPS, git pull, add `MAX_HOURLY_ENTRIES_PER_DAY=1` to .env, restart daemon
- Verify daemon starts cleanly with new capital tracker, hourly limit, and Finviz enrichment
- Check logs for any import errors or config issues

### Priority 2: Live Ticker Selection Run
- Run `python scripts/run_ticker_selection.py` during market hours (Monday pre-market)
- Verify Finviz enrichment populates in candidates.json and Discord summary
- Check Finviz cache files created in `data/finviz_cache/`
- Deploy as 6 AM cron job on VPS

### Priority 3: Pre-Market Proximity Update (8 AM Cron)
- 8 AM ET cron job that re-checks current prices vs entry triggers from candidates.json
- Calculate updated distance-to-trigger for each candidate after overnight moves
- Send proximity report to Discord alerting on candidates near trigger range

### Priority 4: Trade Prioritization Review
- Current prioritization not effective per user feedback
- Review TFC-based priority ranking, timeframe priority, signal scoring
- With hourly limit in place, observe which 1H trade gets selected each day

### Priority 5: Monitor Hourly Limit in Production
- After VPS deploy, check logs for 1H limit enforcement
- Assess if limit=1 is the right value or needs adjustment

---

## Known Bugs (from EQUITY-105 Audit)

| Bug | Status | Description |
|-----|--------|-------------|
| 3-? Pattern Dedup | FIXED + DEPLOYED | Bidirectional patterns create duplicate trades |
| 1H EOD Exits | FIXED + DEPLOYED | PDT detection added, account reset to $100K eliminates PDT |
| Silent Exits | FIXED + DEPLOYED | sync_positions now fires exit callback, stale exits allowed pre-market |
| Dashboard Patterns | DEFERRED | Closed trades show "Unclassified" pattern |
| TFC Not Reaching Dashboard | DEFERRED | 0/75 trades show TFC>=4 |
| Dashboard Minor Issues | DEFERRED | Various smaller display/data issues |

---

## Reference Documents

- HANDOFF: `docs/HANDOFF.md`
- CLAUDE.md: `docs/CLAUDE.md` (STRICT COMPLIANCE)
- Ticker Selection Plan: `C:\Users\Chris\.claude\plans\curious-beaming-dawn.md`
